(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),o=a(9),i=a.n(o),c=(a(16),a(10)),h=a(7),l=a(3),u=a(4),d=a(1),b=a(6),p=a(5),j=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){this.props.onInputChange(e)}},{key:"handleSubmit",value:function(e){this.props.onFormSubmit(e),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("form",{id:"inputs",children:[Object(n.jsx)("h2",{children:"Add a book manually:"}),Object(n.jsxs)("label",{children:["Title:",Object(n.jsx)("input",{name:"title",type:"text",id:"title",value:this.props.title,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:["Author:",Object(n.jsx)("input",{name:"author",type:"text",id:"author",value:this.props.author,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:["Pages:",Object(n.jsx)("input",{name:"pages",type:"text",id:"pages",value:this.props.pages,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:["Cover URL:",Object(n.jsx)("input",{name:"cover",type:"text",id:"cover",value:this.props.cover,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:["Read?",Object(n.jsx)("input",{name:"read",type:"checkbox",id:"read",checked:this.props.read,onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"button",id:"btn",onClick:this.handleSubmit,children:"Add Book"})]})}}]),a}(s.a.Component);var g=function(e){var t;return t=e.read?"read":"notRead",Object(n.jsx)("div",{className:t,onClick:e.onClick})};var m=function(e){return Object(n.jsx)("button",{className:"delBtn",onClick:e.onClick,children:"DELETE"})},v=function(e){var t;return t=e.book.cover?e.book.cover:"https://cdn.hipwallpaper.com/i/7/96/AKf6Qb.jpg",e.book.read?"READ":"NOT READ",Object(n.jsx)("div",{className:"aBookWrapper",style:{backgroundImage:"url(".concat(t,")")},children:Object(n.jsxs)("div",{className:"aBook",children:[Object(n.jsx)("p",{className:"title",children:e.book.title}),Object(n.jsx)("p",{className:"author",children:e.book.author}),Object(n.jsx)("p",{className:"pages",children:e.book.pages+" Pages"}),Object(n.jsx)(g,{read:e.book.read,onClick:function(t){return e.readToggle(t)}}),Object(n.jsx)(m,{onClick:function(t){return e.handleDel(t)}})]})})};var O=function(e){var t=e.books;return Object(n.jsx)("div",{className:"books",children:t.map((function(t){return Object(n.jsx)(v,{handleDel:function(t){return e.handleDel(t)},readToggle:function(t){return e.readToggle(t)},book:t},t.title)}))})},k=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){this.props.onInputChange(e)}},{key:"handleSubmit",value:function(e){this.props.onFormSubmit(e),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("form",{id:"inputs",onSubmit:function(e){e.preventDefault()},children:[Object(n.jsx)("h2",{children:"Search in Google Books:"}),Object(n.jsxs)("label",{children:["Search query:",Object(n.jsx)("input",{name:"search",type:"text",id:"search",value:this.props.search,onChange:this.handleChange})]}),Object(n.jsxs)("label",{children:["Read?",Object(n.jsx)("input",{name:"readSearch",type:"checkbox",id:"readSearch",checked:this.props.read,onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"button",id:"btn",onClick:this.handleSubmit,children:"Search Book"})]})}}]),a}(s.a.Component),f=(a(17),a(18),function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={title:"Dune",author:"Frank Herbert",pages:604,cover:"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1555447414l/44767458.jpg",read:!1,search:"Oathbringer",books:[{title:"Foundation",author:"Isaac Asimov",pages:244,read:!0,cover:"https://i.pinimg.com/originals/c6/6e/bc/c66ebc177446badebed65a0d80c45a64.jpg"},{title:"The Way of Kings",author:"Brandon Sanderson",pages:1007,read:!0,cover:"https://prodimage.images-bn.com/pimages/9780765376671_p0_v5_s1200x630.jpg"},{title:"A Storm of Swords",author:"George R. R. Martin",pages:992,read:!0,cover:"https://images-na.ssl-images-amazon.com/images/I/91-KBK-9K2L.jpg"}],readSearch:!1},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n.handleDel=n.handleDel.bind(Object(d.a)(n)),n.searchBook=n.searchBook.bind(Object(d.a)(n)),n.readToggle=n.readToggle.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("library"));e&&this.setState({books:e})}},{key:"handleChange",value:function(e){var t=e.target,a="read"===t.name||"readSearch"===t.name?t.checked:t.value,n=t.name;this.setState(Object(h.a)({},n,a))}},{key:"handleSubmit",value:function(e){var t=this,a=this.state.books,n=a.map((function(e){return e.title})).indexOf(this.state.title);return this.state.author?this.state.title?this.state.pages?(-1===n?this.setState({books:a.concat([{title:this.state.title,author:this.state.author,pages:this.state.pages,cover:this.state.cover,read:this.state.read}]),title:"",author:"",pages:"",cover:"",read:""},(function(){localStorage.setItem("library",JSON.stringify(t.state.books))})):(this.setState({title:"",author:"",pages:"",cover:"",read:""}),alert("That book is already on your library!")),void e.preventDefault()):alert("Number of pages is required"):alert("Title is required"):alert("Author is required")}},{key:"handleDel",value:function(e){var t=this,a=e.target.parentElement.querySelector(".title").innerHTML,n=this.state.books,r=n.map((function(e){return e.title})).indexOf(a);n.splice(r,1),this.setState({books:n},(function(){localStorage.setItem("library",JSON.stringify(t.state.books))}))}},{key:"searchBook",value:function(e){var t=this;e.persist();var a=this.state.search;if(!a)return alert("Please enter a search term");fetch("https://www.googleapis.com/books/v1/volumes?q="+a).then((function(e){return e.json()})).then((function(a){var n=a.items[0].volumeInfo.title;-1===t.state.books.map((function(e){return e.title})).indexOf(n)?(t.setState({title:a.items[0].volumeInfo.title,author:a.items[0].volumeInfo.authors[0],pages:a.items[0].volumeInfo.pageCount,cover:a.items[0].volumeInfo.imageLinks.smallThumbnail,read:t.state.readSearch}),t.handleSubmit(e)):alert("That book is already on your library!")})),this.setState({search:""}),e.preventDefault()}},{key:"readToggle",value:function(e){var t=this;console.log(e.target.parentElement);var a=e.target.parentElement.querySelector(".title").innerHTML,n=this.state.books,r=n.map((function(e){return e.title})).indexOf(a);n[r].read=!n[r].read,this.setState({books:n},(function(){localStorage.setItem("library",JSON.stringify(t.state.books))}))}},{key:"render",value:function(){var e={title:this.state.title,author:this.state.author,pages:this.state.pages,cover:this.state.cover,read:this.state.read};return Object(n.jsxs)("div",{children:[Object(n.jsx)(O,{handleDel:this.handleDel,readToggle:this.readToggle,books:this.state.books}),Object(n.jsxs)("div",{id:"searchBars",children:[Object(n.jsx)(j,Object(c.a)({onInputChange:this.handleChange,onFormSubmit:this.handleSubmit},e)),Object(n.jsx)("p",{id:"or",children:"OR"}),Object(n.jsx)(k,{onInputChange:this.handleChange,onFormSubmit:this.searchBook,search:this.state.search})]})]})}}]),a}(s.a.Component));i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.42666ede.chunk.js.map